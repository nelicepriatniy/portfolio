import React, { useEffect } from 'react';
import s from './style.module.scss';
import Logo from './Logo';
import Theme from './Theme';
import Lang from './Lang';


interface HeaderProps {
  current: number;
  activeIntex: number;
  onLogoClick: any,
  onLangChange: any,
  currentLang: string,
  texts: string,
}



function Header({current, activeIntex, onLogoClick, onLangChange, currentLang, texts}: HeaderProps) {



  const renderBullest = (current: number, activeIndex: number)=>{
    const mapMass = [];
    for(let i = 0; current > i; i++) {
      mapMass.push(i)
    }

    return(mapMass.map((el)=>{
      if(el == activeIndex) {
        return (<div key={el} className={s.bulletItem + ' ' + s.active}>
      </div>)
      } else {
        return (
          <div key={el} className={s.bulletItem}>
          </div>
          )

      }
      }
    ))
  }
  
  
  return ( 
    <>
    <Logo onLogoClick={onLogoClick} path="/" />
    <div className={s.settings}>
      <Lang onLangChange={onLangChange} currentLang={currentLang} />
      <Theme text={texts} />
    </div>
    <div className={s.seti}>
      <a href="https://t.me/Nelicepriatni"  target='_blank' className={s.setiLink}>
        <svg className={s.setiSvg} viewBox="0 0 30 31" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M27.9815 4.13681C25.9864 4.87028 1.37115 14.3233 1.00735 14.4993C-0.195548 15.0685 -0.336374 15.8195 0.667015 16.33C0.766767 16.3828 2.42735 16.9109 4.36958 17.5153L7.89611 18.6126L15.8997 13.6015C20.3064 10.8495 23.9973 8.56111 24.1029 8.5259C24.3787 8.43201 24.6134 8.43788 24.719 8.54937C24.7953 8.62565 24.8012 8.66086 24.7366 8.77234C24.7014 8.84863 21.7734 11.5067 18.241 14.6753C14.7086 17.8498 11.804 20.4668 11.7923 20.4961C11.7806 20.5255 11.6632 22.1098 11.5283 24.0168L11.2818 27.4788L11.5517 27.4436C11.6984 27.426 11.9273 27.3497 12.0622 27.2734C12.2031 27.203 13.1184 26.3698 14.1101 25.4251C15.0959 24.4804 15.9408 23.6882 15.9819 23.6765C16.023 23.6589 17.5955 24.7738 19.4791 26.1527C21.3568 27.5316 23.0408 28.7228 23.2227 28.8049C23.698 29.0279 24.2261 29.0455 24.5723 28.8636C24.8833 28.6993 25.1826 28.2885 25.3117 27.8602C25.3586 27.6959 26.4383 22.7259 27.6998 16.8171C29.8064 6.98267 30 6.0321 30 5.5216C30 5.04044 29.9824 4.92309 29.8533 4.67077C29.7653 4.48887 29.6069 4.30697 29.4543 4.20135C29.1081 3.96077 28.5331 3.93144 27.9815 4.13681Z" fill="#EEEEEE" />
        </svg>
      </a>
      <a href="https://vk.com/nelicepriatniy"  target='_blank' className={s.setiLink}>
        <svg className={s.setiSvg} viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path opacity="0.995" fillRule="evenodd" clipRule="evenodd" d="M3.39844 0C11.1328 0 18.8672 0 26.6016 0C28.4571 0.410156 29.5898 1.54297 30 3.39844C30 11.1328 30 18.8672 30 26.6016C29.5898 28.4571 28.4571 29.5898 26.6016 30C18.8672 30 11.1328 30 3.39844 30C1.54297 29.5898 0.410156 28.4571 0 26.6016C0 18.8672 0 11.1328 0 3.39844C0.410156 1.54297 1.54297 0.410156 3.39844 0ZM12.6562 9.66797C13.6525 9.65818 14.6486 9.66797 15.6445 9.69727C16.069 9.69346 16.3718 9.87896 16.5527 10.2539C16.6092 10.5636 16.6385 10.8762 16.6406 11.1914C16.582 12.1675 16.5722 13.1441 16.6113 14.1211C16.7056 14.8331 17.0181 14.9503 17.5488 14.4727C18.5885 13.2538 19.3892 11.8867 19.9512 10.3711C20.0196 10.3027 20.0879 10.2344 20.1562 10.166C20.7976 10.1004 21.4421 10.0711 22.0898 10.0781C22.6563 10.0879 23.2226 10.0976 23.7891 10.1074C24.2069 10.1534 24.3729 10.378 24.2871 10.7812C24.2045 11.0876 24.0873 11.3805 23.9355 11.6602C23.138 12.8288 22.3177 13.9811 21.4746 15.1172C21.2601 15.4242 21.2406 15.7366 21.416 16.0547C22.4841 17.0048 23.4216 18.0595 24.2285 19.2188C24.4795 19.7649 24.3135 20.1262 23.7305 20.3027C22.6953 20.3418 21.6602 20.3418 20.625 20.3027C20.1943 20.2326 19.8231 20.047 19.5117 19.7461C18.9932 19.2178 18.4854 18.6807 17.9883 18.1348C17.8128 17.9738 17.6077 17.8663 17.373 17.8125C17.2039 17.8361 17.0671 17.9142 16.9629 18.0469C16.7636 18.6173 16.6269 19.2033 16.5527 19.8047C16.4783 20.0549 16.3123 20.2014 16.0547 20.2441C13.8949 20.4942 12.0199 19.8887 10.4297 18.4277C9.35174 17.2774 8.42402 16.0176 7.64648 14.6484C6.95971 13.4311 6.33469 12.1811 5.77148 10.8984C5.62605 10.6073 5.65535 10.3436 5.85938 10.1074C6.89455 10.0683 7.92967 10.0683 8.96484 10.1074C9.20959 10.1665 9.41467 10.2935 9.58008 10.4883C10.1749 12.0013 10.9854 13.3783 12.0117 14.6191C12.1395 14.727 12.286 14.7953 12.4512 14.8242C12.5772 14.8158 12.6749 14.7572 12.7441 14.6484C12.8304 14.401 12.889 14.1471 12.9199 13.8867C12.959 13.0859 12.959 12.2852 12.9199 11.4844C12.8814 10.8403 12.5396 10.479 11.8945 10.4004C11.8639 10.3675 11.8444 10.3284 11.8359 10.2832C12.0189 9.95326 12.2924 9.74818 12.6562 9.66797Z" fill="#EEEEEE" />
        </svg>
      </a>
    </div>
    <div className={s.bullets}>
      {
        renderBullest(current, activeIntex)
      }
    </div>
    </>
   );
}




export default Header;